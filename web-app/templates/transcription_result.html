<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Transcription Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    {% extends 'base.html' %}

    {% block container %}
    <div class="upload-container">
        <div class="transcription-result-container">
            <h2>Transcription Result</h2>

            {% if result.transcript %}
                <div class="transcription-content">
                    <h3>Transcribed Text:</h3>
                    <p>{{ result.transcript }}</p>
                </div>
            {% else %}
                <p>No transcription available.</p>
            {% endif %}

            {% if result.sentiment is not none %}
                <div class="sentiment-analysis">
                    <h3>Sentiment Polarity:</h3>
                    <p>{{ result.sentiment }}</p>
                    {% if result.sentiment > 0.5 %}
                    <p class="sentiment-interpretation">Sentiment Interpretation: Strongly Positive</p>
                    {% elif 0 < result.sentiment <= 0.5 %}
                    <p class="sentiment-interpretation">Sentiment Interpretation: Slightly Positive</p>
                    {% elif -0.5 < result.sentiment < 0 %}
                    <p class="sentiment-interpretation">Sentiment Interpretation: Slightly Negative</p>
                    {% elif result.sentiment <= -0.5 %}
                    <p class="sentiment-interpretation">Sentiment Interpretation: Strongly Negative</p>
                    {% else %}
                    <p class="sentiment-interpretation">Sentiment Interpretation: Neutral</p>
                    {% endif %}
                </div>
            {% endif %}

            {% if result.filename %}
                <div class="audio-player">
                    <h3>Listen to the Audio:</h3>
                    <audio controls>
                        <source src="http://127.0.0.1:7001/audio/{{ result.filename }}" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            {% endif %}
        </div>
    </div>
    {% endblock %}
</body>
</html>